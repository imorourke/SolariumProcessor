#ifndef STD_STRING
#define STD_STRING

#ifndef STD_STRING_CBUOY
asmfn strlen(c: *u8) u32 {
    "ldi 8:u16 1";
    "ldi 9:u16 0";
    "ld 10:u32 $arg";
    "ld 11:u8 10";
    "tz 11";
    "jmpri 16";
    "add 9:u32 9 8";
    "add 10:u32 10 8";
    "jmpri -20";
    "copy $ret 9";
    "ret";
}
#else
fn strlen(c: *u8) u32 {
    def len: u32 = 0u32;
    while (*c != 0) {
        len = len + 1u32;
        c = c + 1u8;
    }
    return len;
}
#endif

#endif // STD_STRING
